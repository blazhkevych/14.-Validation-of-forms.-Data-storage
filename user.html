<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>User Information</title>
	<style>
		.error {
			color: red;
		}

		/* indent between lines for data entry */
		#userInfoForm div {
			margin-bottom: 5px;
		}
	</style>
</head>

<body>
	<h1 id="greeting"></h1>
	<h1>User Information</h1>

	<!-- User information form -->
	<form id="userInfoForm">
		<div>
			<label for="name">Name:</label>
			<input type="text" id="name" required maxlength="20">
		</div>
		<div>
			<label for="surname">Surname:</label>
			<input type="text" id="surname" required maxlength="20">
		</div>
		<div>
			<label for="birthYear">Year of Birth:</label>
			<input type="number" id="birthYear" required min="1900" max="2023">
		</div>
		<div>
			<label for="gender">Gender:</label>
			<select id="gender" required>
				<option value="">Select</option>
				<option value="male">Male</option>
				<option value="female">Female</option>
			</select>
		</div>
		<div>
			<label for="phoneNumber">Phone Number:</label>
			<input type="text" id="phoneNumber" pattern="[0-9\s\(\)\-]{10,12}">
		</div>
		<div>
			<label for="skype">Skype:</label>
			<input type="text" id="skype">
		</div>
		<div>
			<button type="submit" id="save">Save</button>
			<button onclick="deleteLocalStorageAndRedirect()">Exit</button>
		</div>
	</form>

	<script>
		// Check if user data exists in local storage
		window.onload = function () {
			const email = localStorage.getItem('email');
			if (!email) {
				// User data doesn't exist, redirect to registration page
				window.location.href = 'index.html';
			} else {
				// Populate user information form
				document.getElementById('name').value = localStorage.getItem('name');
				document.getElementById('surname').value = localStorage.getItem('surname');
				document.getElementById('birthYear').value = localStorage.getItem('birthYear');
				document.getElementById('gender').value = localStorage.getItem('gender');
				document.getElementById('phoneNumber').value = localStorage.getItem('phoneNumber');
				document.getElementById('skype').value = localStorage.getItem('skype');

				const greeting = `Welcome, ${email}!`; // Generate greeting message
				const greetingElement = document.getElementById('greeting');
				greetingElement.textContent = greeting; // Update element with the greeting
			}
			loadpageUser();
		};
	</script>
	<script src="script.js"></script>
</body>

</html>